<div class="block-search m-2 d-block bg-white pt-2 text-center rounded-2">
  <form [formGroup]="searchForm" novalidate  (ngSubmit)="search()" class="d-flex flex-row">
    <mat-form-field class="flex-grow-1 mx-4" disabled>
      <input matInput
             placeholder="Tapez un mot"
             type="text"
             formControlName="searchTerm">
      <mat-icon matSuffix color="primary">search</mat-icon>
    </mat-form-field>
    <button mat-raised-button
            color="primary"
            name="btn-submit"
            class="mx-2 my-auto"
            type="submit">
      Rechercher
    </button>
  </form>
</div>
<div class="m-2 d-block bg-white text-center rounded-2 overflow-auto" *ngIf="users.length > 0">
  <table>
    <thead>
    <tr>
      <th scope="col">Mail</th>
      <th scope="col">Statut</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user?.email }}</td>
        <td>
          <mat-icon [color]="user.status.color"
                    matTooltip="{{user.modificationDate  | date:'DD-MM-YYYY'}}">
            {{ user.status.icon }}
          </mat-icon>
        </td>
        <td>
          <mat-icon aria-label="Edit"
                    class="mx-2"
                    matTooltip="Modifier"
                    (click)="goToEditUser(user)"
                    color="primary">
            edit
          </mat-icon>
          <mat-icon aria-label="Delete"
                    class="mx-2"
                    (click)="removeUser(user.id)"
                    matTooltip="Supprimer" color="accent">
            delete
          </mat-icon>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!--
<div class="m-2 d-block bg-white text-center rounded-2 overflow-auto" *ngIf="dataSource.length > 0">
  <table mat-table [dataSource]="dataSource" class="mx-auto my-0 text-center w-100 mx-4">
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef class="text-center text-white fs-6">Email</th>
      <td mat-cell *matCellDef="let element" class="text-center m-auto">
        <span>{{element.email}}</span><br/>
        {{element.civilite.labelShort}}  {{element.lastname.toUpperCase()}} {{ element.firstname }}
      </td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef class="text-center text-white fs-6"> Date / Etat </th>
      <td mat-cell *matCellDef="let element">
        {{element.creationDate | date:'DD-MM-YYYY'}}<br/>
        <mat-icon [color]="element.status.color">{{ element.status.icon }}</mat-icon>
      </td>
    </ng-container>
    <ng-container matColumnDef="actions" >
      <th mat-header-cell *matHeaderCellDef class="text-center"></th>
      <td mat-cell *matCellDef="let element">
          <mat-icon aria-label="Edit"
                    class="mx-2"
                    matTooltip="Modifier"
                    (click)="goToEditUser(element)"
                    color="primary">
            edit
          </mat-icon>
          <mat-icon aria-label="Delete"
                    class="mx-2"
                    (click)="removeUser(element)"
                    matTooltip="Supprimer" color="accent">
            delete
          </mat-icon>
      </td>
    </ng-container>
    <th mat-header-cell *matHeaderCellDef class="text-center" > Action </th>
    <td mat-cell *matCellDef="let element">Test</td>
    <tr mat-header-row class="text-center" *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>-->
